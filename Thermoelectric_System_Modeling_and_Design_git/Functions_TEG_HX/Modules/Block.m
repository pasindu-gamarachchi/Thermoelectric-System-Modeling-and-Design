clc
clear all
close all

function Qvdu = HSBloc(Tb, Tamb)

Tb = [22.6, 22.8, 23, 23.2, 23.4 ,23.5, 24, 24.4 ,25,25.5, 26.0, 27.0, 28.0, 29.0, 29.5];
% Rth = [0.4039,0.3838,0.369,0.3574,0.348,0.3439,0.3273,0.3151,0.3056,0.2979, 0.29224, 0.28658, 0.285629, 0.284678, 0.283727];
Qin = [ 1.485516217	2.084418968	2.7100271	3.357582541	4.022988506	4.361733062	6.110601894	7.616629641	9.816753927	11.74890903	13.68738024	17.44713518	21.00627037	24.58918497	26.43386072];

p = polyfit(Tb, Qin, 6);

syms T

Qf = ( p(1)*T^6 + p(2)*T^5 + p(3)*T^4 + p(4)*T^3 + p(5)*T^2 + p(6)*T^1 +p(7) );

Q  = symfun(Qf, T);

% ThRv = ThR(22.1);
% ThRv = double (ThRv)

% Tbp = [ 22.1: 0.02: 29.5];
% 
% for i = 1: length(Tbp)
%     
%    Qv = Q(Tbp(i));
%    Qvd(i) = double (Qv);
%    
% end

Qvu = Q(22.18);
Qvdu = double (Qvu)



% figure(1)
% plot( Tb, Qin , 'ro')
% hold on
% plot ( Tbp, Qvd, 'b.')